<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="width: 100%; margin: 0;">

<div style="width: 100%; display: flex; justify-content: center;"><svg id="distributed_uf_decoder_connections_2D_demo" style="width: 300px;" viewBox="0 0 100 100"></svg></div>

<!-- Copy the above block directly into the rust doc, then use https://skalman.github.io/UglifyJS-online/ to compress the javascript block below -->

<script>
function draw_distributed_uf_decoder_connections_2D_demo() {
    let svg = document.getElementById("distributed_uf_decoder_connections_2D_demo")
    if (!svg) return  // cannot find element
    const d = 21, width = 100
    const middle = parseInt(d / 2)
    const NS = "http://www.w3.org/2000/svg"
    const interval = width / (d + 1), r = interval * 0.3
    const black = "rgb(0, 0, 0)", red = "rgb(255, 0, 0)", blue = "rgb(0, 0, 255)"
    function is_2_exp(num) {
        while (num != 1) {
            if (num % 2 == 0) num = num / 2
            else return false
        }
        return true
    }
    for (let i = 0; i < d; ++i) {
        for (let j = 0; j < d - 1; ++j) {
            const cx = (j + 1.5) * interval, cy = (i + 1) * interval
            let circle = document.createElementNS(NS, "circle")
            circle.setAttribute("cx", cx)
            circle.setAttribute("cy", cy)
            circle.setAttribute("r", r)
            circle.setAttribute("fill", black)
            if (i == middle && j == middle) {
                circle.setAttribute("fill", red)
            } else if ((i == middle && is_2_exp(Math.abs(j - middle))) || (j == middle && is_2_exp(Math.abs(i - middle)))) {
                circle.setAttribute("fill", blue)
            }
            svg.appendChild(circle)
        }
    }
}
document.addEventListener("DOMContentLoaded", draw_distributed_uf_decoder_connections_2D_demo)
</script>

<div style="width: 100%; display: flex; justify-content: center;"><svg id="distributed_uf_decoder_connections_worst_case" style="width: 400px;" viewBox="0 0 400 110"></svg></div>

<script>
function draw_distributed_uf_decoder_connections_worst_case() {
    let svg = document.getElementById("distributed_uf_decoder_connections_worst_case")
    if (!svg) return  // cannot find element
    const d = 21, dh = 5, width = 400
    const middle = parseInt(d / 2)
    const NS = "http://www.w3.org/2000/svg"
    const interval = width / (d + 1), r = interval * 0.3
    const black = "rgb(0, 0, 0)", red = "rgb(255, 0, 0)", blue = "rgb(0, 0, 255)", green = "rgb(0, 255, 0)"
    const colors = [red, blue, green, "rgb(255, 0, 255)", "rgb(0, 255, 255)", "rgb(255, 255, 0)"]
    function is_2_exp(num) {
        while (num != 1) {
            if (num % 2 == 0) num = num / 2
            else return false
        }
        return true
    }
    for (let i = 0; i < dh; ++i) {
        for (let j = 0; j < d - 1; ++j) {
            const cx = (j + 1.5) * interval, cy = (i + 1) * interval
            let circle = document.createElementNS(NS, "circle")
            circle.setAttribute("cx", cx)
            circle.setAttribute("cy", cy)
            circle.setAttribute("r", r)
            circle.setAttribute("fill", black)
            if (i == 2 && j != 0 && j != 19) {
                circle.setAttribute("fill", colors[parseInt((j - 1) / 3)])
            } else if ((i == 1 || i == 3) && j != 0 && j != 19 && (j + 1) % 3 == 0) {
                circle.setAttribute("fill", colors[parseInt((j - 1) / 3)])
            }
            svg.appendChild(circle)
        }
    }
    for (let i = 0; i < 5; ++i) {
        let rect = document.createElementNS(NS, "rect")
        rect.setAttribute("width", interval * 2)
        rect.setAttribute("height", interval)
        rect.setAttribute("style", "fill:none; stroke:black; stroke-width:3;")
        rect.setAttribute("x", (i * 3 + 4) * interval)
        rect.setAttribute("y", 2.5 * interval)
        svg.appendChild(rect)
    }
}
document.addEventListener("DOMContentLoaded", draw_distributed_uf_decoder_connections_worst_case)
</script>

<div style="width: 100%; display: flex; justify-content: center;"><svg id="distributed_uf_decoder_connections_worst_case_after" style="width: 400px;" viewBox="0 0 400 110"></svg></div>

<script>
function draw_distributed_uf_decoder_connections_worst_case_after() {
    let svg = document.getElementById("distributed_uf_decoder_connections_worst_case_after")
    if (!svg) return  // cannot find element
    const d = 21, dh = 5, width = 400
    const middle = parseInt(d / 2)
    const NS = "http://www.w3.org/2000/svg"
    const interval = width / (d + 1), r = interval * 0.3
    const black = "rgb(0, 0, 0)", red = "rgb(255, 0, 0)"
    function is_2_exp(num) {
        while (num != 1) {
            if (num % 2 == 0) num = num / 2
            else return false
        }
        return true
    }
    for (let i = 0; i < dh; ++i) {
        for (let j = 0; j < d - 1; ++j) {
            const cx = (j + 1.5) * interval, cy = (i + 1) * interval
            let circle = document.createElementNS(NS, "circle")
            circle.setAttribute("cx", cx)
            circle.setAttribute("cy", cy)
            circle.setAttribute("r", r)
            circle.setAttribute("fill", black)
            if (i == 2 && j != 0 && j != 19) {
                circle.setAttribute("fill", red)
            } else if ((i == 1 || i == 3) && j != 0 && j != 19 && (j + 1) % 3 == 0) {
                circle.setAttribute("fill", red)
            }
            svg.appendChild(circle)
        }
    }
}
document.addEventListener("DOMContentLoaded", draw_distributed_uf_decoder_connections_worst_case_after)
</script>

</body>
</html>
